<html>
<head>
    <script language="javascript">
        function psmtest(){

            var psmtext = document.getElementById("psmtext");
            var st = psmtext.value;
            Ast = st.split("\n");
            var numrows = Ast.length;


            var ii;
            var xs = [];
            var ys = [];
            for (ii = 0 ; ii < numrows ; ii++) {
                // tab or comma deliminated data
                if ( Ast[ii].split(",",2)[1] != null ){ ys[ii] = Ast[ii].split(",")[1]; xs[ii] = Ast[ii].split(",")[0];}
                if ( Ast[ii].split("\t",2)[1] != null ){ ys[ii] = Ast[ii].split("\t")[1]; xs[ii] = Ast[ii].split("\t")[0];}
            }



            var xss = [];
            var yss = [];
            var numgoodrows = 0;
            var iii =0;
            for (ii = 0 ; ii < numrows ; ii++) {
                if ( xs[ii] != null && ys[ii] != null) {
                    xss[iii] = xs[ii];
                    yss[iii] = ys[ii];
                    iii++;
                }
            }
            numgoodrows = iii;
            // next I need to convert to floating point array var xf = [], var yf = [];
        }
    </script>
</head>
<body>
<textarea id="name" rows=24 cols=72> </textarea>
<textarea id="qty" rows=24 cols=5> </textarea>
<textarea id="price" rows=24 cols=5> </textarea>

<input type="button" value="run code" onClick="psmtest();">
</body>
</html>
